GAS LISTING task7.S 			page 1


   1              	.include "my-macro"
   1              	// ÐœÐ°ÐºÑ€Ð¾Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹
   2              	
   3              	.macro Finish
   4              	    movl $0, %ebx 	# first argument: exit code
   5              	    movl $1, %eax 	# sys_exit index
   6              	    int  $0x80 		# kernel interrupt
   7              	.endm
   8              	
   9              	
  10              	/* 
  11              	 * ÐœÐ°ÐºÑ€Ð¾Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹.
  12              	 * ÐÑ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹:
  13              	 * 	- ÐºÐ¾Ð´ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹
  14              	 *
  15              	 * ÐŸÐ¾ÑÐ»Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð¼Ð°ÐºÑ€Ð¾Ð²Ñ‹Ð·Ð¾Ð²Ð° Ð¸Ð·Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ñ‹: %e
  16              	 * Ð¡Ð¼. Ñ‚Ð°ÐºÐ¶Ðµ 'man 2 exit'
  17              	*/
  18              	.macro Exit ret_val
  19              		movl $1, %eax 		# Ð½Ð¾Ð¼ÐµÑ€ ÑÐ¸ÑÑ‚. Ð²Ñ‹Ð·Ð¾Ð²Ð° exit
  20              		movl \ret_val, %ebx 	# ÐºÐ¾Ð´ Ð²Ñ‹Ñ…Ð¾Ð´Ð°
  21              		int $0x80 		# Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ð¹ Ð²Ñ‹Ð·Ð¾Ð²
  22              	.endm
  23              	
  24              	
  25              	/*
  26              	 * ÐœÐ°Ñ€Ð¾Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ñ†ÐµÐ´ÑƒÑ€Ñ‹ ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÑÐ¸Ð
  27              	 * ÐÑ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹:
  28              	 * 	- Ð°Ð´Ñ€ÐµÑ Ð±ÑƒÑ„Ñ„ÐµÑ€Ð° Ð´Ð»Ñ ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°
  29              	 * Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:
  30              	 *	- Ð² %eax ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÑ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ‹Ñ… ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
  31              	 *	- Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ buf_addr - ÑÑ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ‹Ð¹ ÑÐ¸Ð¼Ð²Ð¾Ð»
  32              	 * 
  33              	 * ÐŸÐ¾ÑÐ»Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð¼Ð°ÐºÑ€Ð¾Ð²Ñ‹Ð·Ð¾Ð²Ð° Ð¸Ð·Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ñ‹: %e
  34              	 * Ð¡Ð¼. Ñ‚Ð°ÐºÐ¶Ðµ 'man 2 read'
  35              	*/
  36              	.macro Getchar buf_addr
  37              		movl $3, %eax		# Ð½Ð¾Ð¼ÐµÑ€ ÑÐ¸ÑÑ‚. Ð²Ñ‹Ð·Ð¾Ð²Ð° read
  38              		movl $0, %ebx		# Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ 1: Ð´ÐµÑÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ñ€ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð³Ð¾ Ð²Ð²Ð¾Ð´Ð°
  39              		movl \buf_addr, %ecx	# Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ 2: Ð°Ð´Ñ€ÐµÑ Ð±ÑƒÑ„ÐµÑ€Ð° (Ð¾Ð½ Ð¶Ðµ - Ñ„Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐº
  40              		     			# Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ Ð¼Ð°ÐºÑ€Ð¾Ð²Ñ‹Ð·Ð¾Ð²Ð°)
  41              		movl $1, %edx		# Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ 3: ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð±Ð°Ð¹Ñ‚Ð¾Ð² Ð´Ð»Ñ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ
  42              		int $0x80		# Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ð¹ Ð²Ñ‹Ð·Ð¾Ð²
  43              	.endm
  44              	
  45              	/*
  46              	 * ÐœÐ°Ñ€Ð¾Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ñ†ÐµÐ´ÑƒÑ€Ñ‹ Ð²Ñ‹Ð²Ð¾Ð´Ð° ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð² ÑÑ‚Ð°Ð½Ð´
  47              	 * ÐÑ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹:
  48              	 * 	- Ð¡Ñ‚Ñ€Ð¾ÐºÐ° Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð°.
  49              	 *
  50              	 * ÐŸÑ€Ð¸Ð¼ÐµÑ‚Ñ€ Ð¼Ð°ÐºÑ€Ð¾Ð²Ñ‹Ð·Ð¾Ð²Ð°:
  51              	 *	Puts "Ð¢ÐµÐºÑÑ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ð¼Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸" 
  52              	 *
  53              	 * Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:
  54              	 *	- Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ Ð² ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð²Ñ‹Ð²Ð¾Ð´ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹ Ð·Ð°Ð´Ð°Ð½Ð½Ð¾Ð¹ ÑÑ‚Ñ€Ð¾Ðº
  55              	 *	  Ð° Ñ‚Ð°ÐºÐ¶Ðµ ÑÐ¸Ð¼Ð²Ð¾Ð» Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð° ÑÑ‚Ñ€Ð¾ÐºÐ¸
  56              	 *	
GAS LISTING task7.S 			page 2


  57              	 * ÐŸÐ¾ÑÐ»Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð¼Ð°ÐºÑ€Ð¾Ð²Ñ‹Ð·Ð¾Ð²Ð° Ð¸Ð·Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ñ‹: %e
  58              	 * Ð¡Ð¼. Ñ‚Ð°ÐºÐ¶Ðµ 'man puts', 'man 2 write'
  59              	*/
  60              	.macro Puts string
  61              	.data
  62              	    str\@: 	.ascii "\string"  # Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ„Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð´Ð»Ñ
  63              		
  64              	    strlen\@ = 	. - str\@           # Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð´Ð»Ð¸Ð½Ñ‹ ÑÑ‚Ñ€Ð¾ÐºÐ¸
  65              	
  66              	.text
  67              		movl $4, %eax		# Ð½Ð¾Ð¼ÐµÑ€ ÑÐ¸ÑÑ‚. Ð²Ñ‹Ð·Ð¾Ð²Ð° write
  68              		movl $1, %ebx		# Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ 1: Ð´ÐµÑÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ñ€ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð³Ð¾ Ð²Ñ‹Ð²Ð¾Ð´Ð°	
  69              		movl $str\@, %ecx	# Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ 2: Ð°Ð´Ñ€ÐµÑ Ð¿Ð°Ð¼ÑÑ‚Ð¸ Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ð¼Ñ‹Ð¼Ð¸ ÑÐ¸Ð¼Ð²Ð¾
  70              		movl $strlen\@, %edx 	# Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ 3: ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð±Ð°Ð¹Ñ‚Ð¾Ð² Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð°
  71              		int $0x80		# Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ð¹ Ð²Ñ‹Ð·Ð¾Ð²
  72              	.endm
  73              	
  74              	
  75              	
  76              	
  77              	
   2              	
   3              	.extern scanf	
   4              	.extern printf
   5              	
   6              	.data 
   7 0000 00000000 	get:	.long	0
   8 0004 00000000 	put:	.long	0
   9              	
  10              	#	Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚Ð½Ñ‹Ðµ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð¸ Ð¸Ñ… Ð°Ð´Ñ€ÐµÑÐ¾Ð² ÐºÐ°Ðº Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚
  11              	fmti:
  12 0008 256C6400 	        .string "%ld" 	# scanf: h - 8 Ð±Ð¸Ñ‚, u - Ð±ÐµÐ·Ð·Ð½Ð°ÐºÐ¾Ð²Ð¾Ðµ Ñ†ÐµÐ»Ð¾Ðµ 
  13              	
  14              	fmtp:
  15 000c 256C750A 		.string "%lu\n"  # printf 
  15      00
  16              		
  17              	
  18              	.text        # ÑÐµÐºÑ†Ð¸Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð¿Ñ€Ð¾Ñ†ÐµÑÐ¾Ñ€Ð°
  19              		
  20              	.type   Fact, @function
  21              	
  22              	Fact:
  23              	
  24              	#       Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ð»Ð¾Ð³ Ñ„ÑƒÐ½Ñ†Ð¸Ð¸
  25              	
  26 0000 55       	        pushl %ebp       # ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð² ÑÑ‚ÐµÐºÐµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ, Ð±Ñ‹Ð²ÑˆÐµÐµ Ð² Ð²Ñ‹Ð
  27 0001 89E5     	        movl  %esp, %ebp # Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ñ‚ÑŒ Ð°Ð´Ñ€ÐµÑÐ½Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°
  28              	                         # Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¼ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð½Ñ‹Ð¼ Ð² ÑÑ‚ÐµÐºÐµ Ð¿ÑƒÑ‚ÐµÐ¼ Ð±Ð°Ð
  29              				# Ð°Ð´Ñ€ÐµÑÐ°Ñ†Ð¸Ð¸ Ñ‡ÐµÑ€ÐµÐ· ebp
  30              	
  31              	
  32              	
  33              		
  34              	#       Ñ‚ÐµÐ»Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
  35 0003 8B5D08   	        movl 8(%ebp), %ebx  # Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ Ð² ebx
  36              	
GAS LISTING task7.S 			page 3


  37 0006 83FB01   		cmpl $1, %ebx
  38 0009 7416     		je Fact1
  39              	
  40              		# Ð’Ñ‹Ð·Ð¾Ð² Fact
  41              		
  42 000b 4B       	        decl %ebx    # Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ³Ð¾ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°
  43 000c 53       		pushl %ebx
  44 000d E8EEFFFF 		call Fact
  44      FF
  45 0012 83C404   		addl $4, %esp   # Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° ÑÑ‚ÐµÐºÐ°
  46              		
  47 0015 8B5D08   		movl 8(%ebp), %ebx  # Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ Ð² ebx
  48 0018 0FAFC3   		imull %ebx, %eax
  49              		
  50 001b 720B     		jc Fact_err
  51              		
  52              		#       Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ ÑÐ¿Ð¸Ð»Ð¾Ð³ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
  53              	FactEnd:	
  54 001d 89EC     	        movl %ebp, %esp # Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑƒÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑŒ ÑÑ‚ÐµÐºÐ°
  55 001f 5D       	        popl %ebp       # Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ebp
  56 0020 C3       	        ret             # Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‚ Ð² Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÑŽÑ‰ÑƒÑŽ
  57              		
  58              	Fact1:
  59 0021 B8010000 		movl $1, %eax
  59      00
  60 0026 EBF5     		jmp FactEnd
  61              	Fact_err:
  62 0028 B8000000 		movl $0, %eax
  62      00
  63 002d EBEE     		jmp FactEnd
  64              	.global main # Ñ‚Ð¾Ñ‡ÐºÐ° Ð²Ñ…Ð¾Ð´Ð° - Ð³Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ð°Ñ Ð¼ÐµÑ‚ÐºÐ°
  65              	
  66              	main:
  67 002f 90       		nop
  68              	
  69              	#	Ð’Ñ‹Ð·Ð¾Ð²Ñ‹ scanf  Ð´Ð»Ñ Ð²Ð²Ð¾Ð´Ð° Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ 32 
  70              	#       Ð±Ð¸Ñ‚Ð¾Ð²Ñ‹Ñ… Ñ†ÐµÐ»Ñ‹Ñ… get Ð¸ put, Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° fmtl        
  71              		
  72              		Puts "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‡Ð¸ÑÐ»Ð¾:"
  72              	> .data
  72 0011 D092D0B2 	>  str0:.ascii "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‡Ð¸ÑÐ»Ð¾:"
  72      D0B5D0B4 
  72      D0B8D182 
  72      D0B520D1 
  72      87D0B8D1 
  72              	>  
  72              	>  strlen0 =. - str0
  72              	> 
  72              	> .text
  72 0030 B8040000 	>  movl $4,%eax
  72      00
  72 0035 BB010000 	>  movl $1,%ebx
  72      00
  72 003a B9110000 	>  movl $str0,%ecx
  72      00
  72 003f BA1A0000 	>  movl $strlen0,%edx
  72      00
GAS LISTING task7.S 			page 4


  72 0044 CD80     	>  int $0x80
  73 0046 68000000 	        pushl $get	# 2 Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ - Ð°Ð´Ñ€ÐµÑ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹
  73      00
  74 004b 68080000 	        pushl $fmti	# 1 Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ - Ð°Ð´Ñ€ÐµÑ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð½Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸
  74      00
  75 0050 E8FCFFFF 		call scanf           
  75      FF
  76 0055 83C408   		addl $8, %esp   # Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° ÑÑ‚ÐµÐºÐ°
  77              		
  78              	#	Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð»Ð°
  79 0058 FF350000 		pushl get
  79      0000
  80 005e E89DFFFF 		call Fact
  80      FF
  81 0063 83C404   		addl $4, %esp   # Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° ÑÑ‚ÐµÐºÐ°
  82 0066 A3040000 		movl %eax, put
  82      00
  83              	
  84 006b 83F800   		cmpl $0, %eax
  85 006e 7435     		je err
  86              	#	Ð¿ÐµÑ‡Ð°Ñ‚ÑŒ ÑÑƒÐ¼Ð¼Ñ‹
  87              	
  88              	        Puts "Ð¤Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð»:"	
  88              	> .data
  88 002b D0A4D0B0 	>  str1:.ascii "Ð¤Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð»:"
  88      D0BAD182 
  88      D0BED180 
  88      D0B8D0B0 
  88      D0BB3A
  88              	>  
  88              	>  strlen1 =. - str1
  88              	> 
  88              	> .text
  88 0070 B8040000 	>  movl $4,%eax
  88      00
  88 0075 BB010000 	>  movl $1,%ebx
  88      00
  88 007a B92B0000 	>  movl $str1,%ecx
  88      00
  88 007f BA130000 	>  movl $strlen1,%edx
  88      00
  88 0084 CD80     	>  int $0x80
  89 0086 FF350400 		pushl put              # 2 Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ - Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ 
  89      0000
  90 008c 680C0000 		pushl $fmtp          # 1 Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ - Ð°Ð´Ñ€ÐµÑ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð½Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸ 
  90      00
  91 0091 E8FCFFFF 		call printf
  91      FF
  92              	
  93 0096 83C408   		addl $8, %esp        # Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° ÑÑ‚ÐµÐºÐ°
  94              	
  95              	End:	
  96              		Finish
  96 0099 BB000000 	>  movl $0,%ebx
  96      00
  96 009e B8010000 	>  movl $1,%eax
  96      00
GAS LISTING task7.S 			page 5


  96 00a3 CD80     	>  int $0x80
  97              	err:
  98              		Puts "ÐžÑˆÐ¸Ð±ÐºÐ°: Ñ‡Ð¸ÑÐ»Ð¾ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ðµ"
  98              	> .data
  98 003e D09ED188 	>  str3:.ascii "ÐžÑˆÐ¸Ð±ÐºÐ°: Ñ‡Ð¸ÑÐ»Ð¾ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ðµ"
  98      D0B8D0B1 
  98      D0BAD0B0 
  98      3A20D187 
  98      D0B8D181 
  98              	>  
  98              	>  strlen3 =. - str3
  98              	> 
  98              	> .text
  98 00a5 B8040000 	>  movl $4,%eax
  98      00
  98 00aa BB010000 	>  movl $1,%ebx
  98      00
  98 00af B93E0000 	>  movl $str3,%ecx
  98      00
  98 00b4 BA360000 	>  movl $strlen3,%edx
  98      00
  98 00b9 CD80     	>  int $0x80
  99 00bb EBDC     		jmp End
 100              	.end
GAS LISTING task7.S 			page 6


DEFINED SYMBOLS
             task7.S:7      .data:0000000000000000 get
             task7.S:8      .data:0000000000000004 put
             task7.S:11     .data:0000000000000008 fmti
             task7.S:14     .data:000000000000000c fmtp
             task7.S:22     .text:0000000000000000 Fact
             task7.S:58     .text:0000000000000021 Fact1
             task7.S:61     .text:0000000000000028 Fact_err
             task7.S:53     .text:000000000000001d FactEnd
             task7.S:66     .text:000000000000002f main
             task7.S:72     .data:0000000000000011 str0
             task7.S:72     *ABS*:000000000000001a strlen0
             task7.S:97     .text:00000000000000a5 err
             task7.S:88     .data:000000000000002b str1
             task7.S:88     *ABS*:0000000000000013 strlen1
             task7.S:95     .text:0000000000000099 End
             task7.S:98     .data:000000000000003e str3
             task7.S:98     *ABS*:0000000000000036 strlen3

UNDEFINED SYMBOLS
scanf
printf
