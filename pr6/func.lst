GAS LISTING func.S 			page 1


   1              	
   2              	#    	ABI —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –æ –≤—ã–∑–æ–≤–∞—Ö —Ñ—É–Ω–∫—Ü–∏–π
   3              	
   4              	#	–ë–∞–π—Ç—ã –∏–∑ –º–∞—Å—Å–∏–≤–∞ Symbols —á–∏—Ç–∞—é—Ç—Å—è –ø–æ –æ–¥–Ω–æ–º—É.
   5              	#	–ï—Å–ª–∏ –ø—Ä–æ—á—Ç–µ–Ω –∫–æ–¥ —Ü–∏—Ñ—Ä—ã, —Ç–æ –æ–Ω –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è 
   6              	#	–≤ 4-–±–∞–π—Ç–æ–≤–æ–µ —Ü–µ–ª–æ–µ, –∏–Ω–∞—á–µ –≤ –∑–Ω–∞—á–µ–Ω–∏–µ -1.
   7              	#	–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤ Numbers.
   8              	
   9              	    .include "my-macro"	# –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å –º–∞–∫—Ä–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏
   1              	/*
   2              	 * –ú–∞–∫—Ä–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã.
   3              	 * –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
   4              	 *     - –∫–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã
   5              	 *
   6              	 * –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∞–∫—Ä–æ–≤—ã–∑–æ–≤–∞ –∏–∑–º–µ–Ω—è—é—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä—ã: %e
   7              	 * –°–º. —Ç–∞–∫–∂–µ 'man 2 exit'
   8              	*/
   9              	.macro Exit ret_val
  10              	    movl $1, %eax         # –Ω–æ–º–µ—Ä —Å–∏—Å—Ç. –≤—ã–∑–æ–≤–∞ exit
  11              	    movl \ret_val, %ebx     # –∫–æ–¥ –≤—ã—Ö–æ–¥–∞
  12              	    int $0x80         # –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤
  13              	.endm
  14              	
  15              	
  16              	/*
  17              	 * –ú–∞–∫—Ä–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –±–∞–π—Ç–∞ –∫–æ–¥–∞ —Å
  18              	 * —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤–≤–æ–¥–∞
  19              	 * –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
  20              	 *     - –∞–¥—Ä–µ—Å –±—É—Ñ–µ—Ä–∞ –¥–ª—è —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è –±–∞–π—Ç–∞
  21              	 * –†–µ–∑—É–ª—å—Ç–∞—Ç:
  22              	 *    - –≤ %eax –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –±–∞–π—Ç–æ–≤
  23              	 *    - –ø–æ –∞–¥—Ä–µ—Å—É buf_addr - —Å—á–∏—Ç–∞–Ω–Ω—ã–π –±–∞–π—Ç
  24              	 *
  25              	 * –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∞–∫—Ä–æ–≤—ã–∑–æ–≤–∞ –∏–∑–º–µ–Ω—è—é—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä—ã: %e
  26              	 * –°–º. —Ç–∞–∫–∂–µ 'man 2 read'
  27              	*/
  28              	.macro Getchar buf_addr
  29              	    movl $3, %eax        # –Ω–æ–º–µ—Ä —Å–∏—Å—Ç. –≤—ã–∑–æ–≤–∞ read
  30              	    movl $0, %ebx        # –ø–∞—Ä–∞–º–µ—Ç—Ä 1: –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤–≤–æ
  31              	    movl \buf_addr, %ecx    # –ø–∞—Ä–∞–º–µ—Ç—Ä 2: –∞–¥—Ä–µ—Å –±—É—Ñ–µ—Ä–∞ (–æ–Ω –∂–µ - —Ñ–∞–∫—Ç–∏—á
  32              	                     # –ø–∞—Ä–∞–º–µ—Ç—Ä –º–∞–∫—Ä–æ–≤—ã–∑–æ–≤–∞)
  33              	    movl $1, %edx        # –ø–∞—Ä–∞–º–µ—Ç—Ä 3: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ –¥–ª—è —á—Ç–µ–Ω–∏—
  34              	    int $0x80        # –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤
  35              	.endm
  36              	
  37              	/*
  38              	 * –ú–∞–∫—Ä–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è  –≤—ã–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏ –≤ —Ñ–∞–π–ª —Å—Ç–∞–Ω–¥–∞—Ä—Ç–
  39              	 * –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
  40              	 *     - –°—Ç—Ä–æ–∫–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞.
  41              	 *
  42              	 * –ü—Ä–∏–º–µ—Ç—Ä –º–∞–∫—Ä–æ–≤—ã–∑–æ–≤–∞:
  43              	 *    Puts "–¢–µ–∫—Å—Ç –≤—ã–≤–æ–¥–∏–º–æ–π —Å—Ç—Ä–æ–∫–∏"
  44              	 *
  45              	 * –†–µ–∑—É–ª—å—Ç–∞—Ç:
  46              	 *    - –≤—ã–≤–æ–¥–∏—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ —Å–∏–º–≤–æ–ª—ã –∑–∞–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–
  47              	 *      –∏ –≤—Å–ª–µ–¥ –∑–∞ –Ω–∏–º–∏ —Å–∏–º–≤–æ–ª –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏ \n
  48              	 *
GAS LISTING func.S 			page 2


  49              	 * –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∞–∫—Ä–æ–≤—ã–∑–æ–≤–∞ –∏–∑–º–µ–Ω—è—é—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä—ã: %e
  50              	 * –°–º. —Ç–∞–∫–∂–µ 'man puts', 'man 2 write'
  51              	*/
  52              	.macro Puts string
  53              	.data
  54              	    str\@:     .ascii "\string\n"  # —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä–æ–∫–∏ –
  55              	
  56              	    strlen\@ =     . - str\@           # –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫–
  57              	
  58              	.text
  59              	    movl $4, %eax        # –Ω–æ–º–µ—Ä —Å–∏—Å—Ç. –≤—ã–∑–æ–≤–∞ write
  60              	    movl $1, %ebx        # –ø–∞—Ä–∞–º–µ—Ç—Ä 1: –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤—ã–≤
  61              	    movl $str\@, %ecx    # –ø–∞—Ä–∞–º–µ—Ç—Ä 2: –∞–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏ —Å –≤—ã–≤–æ–¥–∏–º—ã–º–∏ —Å–∏
  62              	    movl $strlen\@, %edx     # –ø–∞—Ä–∞–º–µ—Ç—Ä 3: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ –¥–ª—è –≤—ã–≤–
  63              	    int $0x80        # –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤
  64              	.endm
  10              	
  11              	.data # —Å–µ–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  12              	
  13              	Symbols:
  14 0000 39314132 		.asciz	"91A23B456C789"	# –º–∞—Å—Å–∏–≤ —Å–∏–º–≤–æ–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤
  14      33423435 
  14      36433738 
  14      3900
  15              	#				  —Ü–∏—Ñ—Ä –∏ "–Ω–µ —Ü–∏—Ñ—Ä"
  16              	
  17              	#	–¥–ª—è –ø–æ–∫–∞–∑–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–æ—Å—Ç—è–Ω–∏—è  —Å—Ç–µ–∫–∞ 
  18              	#	–∏ –º–µ—Å—Ç –†–û–ù –≤ –Ω–µ–º –ø–æ—Å–ª–µ pusha –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º
  19              	
  20 000e 494E4954 	Ini:	.ascii "INIT"	# —Å—Ç–µ–∫  
  21 0012 61784620 	EAXF:	.ascii "axF "	# %eax
  22 0016 64694620 	EDIF:	.ascii "diF "	# %edi
  23 001a 62702D34 	EBPm4:	.ascii "bp-4"	# –¥–ª—è –ø–æ–∫–∞–∑–∞ %ebp —á–µ—Ä–µ–∑ %esi
  24              	
  25 001e 00000000 	n:	.long 0		# –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã—Ö –≤
  26              	
  27              	.bss	# —Å–µ–∫—Ü–∏—è –æ–±—â–µ–π –ø–∞–º—è—Ç–∏ 
  28              	
  29              	.lcomm	Numbers, 40	# –º–∞—Å—Å–∏–≤ 4-—Ö –±–∞–π—Ç–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Ü–∏—Ñ—Ä
  30              	
  31              	.global _start # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ - –≥–ª–æ–±–∞–ª—å–Ω–∞—è –º–µ—Ç–∫–∞
  32              	
  33              	.text # —Å–µ–∫—Ü–∏—è –∫–æ–º–∞–Ω–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
  34              	
  35              	_start:
  36              	
  37 0000 90       		nop
  38              	
  39              	#	–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏—Å—Ö–æ–¥–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
  40              	
  41              	#	–°—Ç–µ–∫–∞    
  42              	
  43 0001 A10E0000 		movl Ini, %eax	
  43      00
  44 0006 890424   		movl %eax, 0(%esp)
  45              	
  46              	#	–†–µ–≥–∏—Å—Ç—Ä–æ–≤ –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥ pusha
GAS LISTING func.S 			page 3


  47              		
  48 0009 A1120000 		movl EAXF,  %eax	# –ø–µ—Ä–≤—ã–π 
  48      00
  49 000e 8B3D1600 		movl EDIF,  %edi 	# –ø–æ—Å–ª–µ–¥–Ω–∏–π
  49      0000
  50 0014 8B351A00 		movl EBPm4, %esi	# —Å–ª–µ–¥—É—é—â–∏–π –ø–æ—Å–ª–µ %ebp 
  50      0000
  51              					# !!! %ebp –ù–ï –¢–†–û–ì–ê–¢–¨ !!! 
  52              			
  53 001a 60       		pusha	# –†–û–ù –≤ —Å—Ç–µ–∫
  54              			
  55 001b 68000000 		pushl $Symbols	# –ü–∞—Ä–∞–º–µ—Ç—Ä-2 - –∞–¥—Ä–µ—Å –º–∞—Å—Å–∏–≤–∞ –≤ —Å—Ç–µ–∫
  55      00
  56 0020 6A08     		pushl $8 	# –ü–∞—Ä–∞–º–µ—Ç—Ä-1 –≤ —Å—Ç–µ–∫, —Ü–∏–∫–ª 0-7 
  57              		
  58 0022 E8150000 		call Read_Sym   # –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
  58      00
  59              	
  60 0027 A31E0000 		movl %eax, n	# n = –∫–æ–ª-–≤–æ –Ω–µ—Å–∏–º–≤–æ–ª—å–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π		!!!!!–†–∞–∑–º–µ—Ä —Å—Ç
  60      00
  61              	
  62 002c 83C408   		addl $8,%esp	# –æ—á–∏—Å—Ç–∏—Ç—å —Å—Ç–µ–∫ –æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Read_Sym
  63              	
  64 002f 61       		popa         	# –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –†–û–ù
  65              	
  66              		Exit $0   	# –∫–æ–Ω–µ—Ü —Ä–∞–±–æ—Ç—ã, –≤–æ–∑–≤—Ä–∞—Ç –≤ –û–° 
  66 0030 B8010000 	>  movl $1,%eax
  66      00
  66 0035 BB000000 	>  movl $0,%ebx
  66      00
  66 003a CD80     	>  int $0x80
  67              	
  68              	.type	Read_Sym, @function  	# —á–∏—Ç–∞–µ—Ç Symbols –≤ —Ü–∏–∫–ª–µ
  69              	
  70              	#	–ò–º–µ–µ—Ç –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
  71              	
  72              	# P1 - —á–∏—Å–ª–æ –±–∞–π—Ç–æ–≤ –¥–ª—è —á—Ç–µ–Ω–∏–µ –∏–∑ –º–∞—Å—Å–∏–≤–∞ 
  73              	# P2 - –∞–¥—Ä–µ—Å –º–∞—Å—Å–∏–≤–∞ –æ—Ç–∫—É–¥–∞ —á–∏—Ç–∞—Ç—å
  74              	
  75              	# –ü—Ä–æ—á—Ç–µ–Ω–Ω—ã–π –±–∞–π—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ Trans_Sym. 
  76              	# –ï–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ %eax –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è
  77              	# –≤ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–µ Numbers
  78              	
  79              	Read_Sym:
  80              	
  81              	#	–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–ª–æ–≥ 
  82              	
  83 003c 55       		pushl %ebp 	 # %ebp  –≤—ã–∑—ã–≤–∞—é—â–µ–π -> —Å—Ç–µ–∫
  84 003d 89E5     		movl  %esp, %ebp # –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∞–¥—Ä–µ—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –∏ 
  85              	#			   –ª–æ–∫–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤ —Å—Ç–µ–∫–µ –ø—É—Ç–µ–º –±–∞–∑–æ–≤–æ–π 
  86              	#			   –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ ebp
  87              		                 
  88              	.data # —Å–µ–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  89              	
  90 0022 4C467231 	LVAR1:	.ascii "LFr1" # –ø–æ–∫–∞–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ö–∞–¥—Ä–∞ —Å—Ç–µ–∫–∞ 1
  91              	
  92              	.text # —Å–µ–∫—Ü–∏—è –∫–æ–º–∞–Ω–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
GAS LISTING func.S 			page 4


  93              	
  94 003f 83EC04   		subl  $4, %esp	 # –∑–∞–≤–µ—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω. –≤ –ö–∞–¥—Ä–µ 1
  95 0042 B8000000 	        movl  $0 ,%eax
  95      00
  96 0047 8945FC   	        movl  %eax,-4(%ebp)        
  97              	        
  98              	#	–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –ö–æ–¥  —Ñ—É–Ω–∫—Ü–∏–∏
  99              	
 100 004a 29C9     		subl %ecx, %ecx   # –∏–Ω–∏—Ü–∏—Ä—É–µ–º —Ü–∏–∫–ª–∞ –ø–æ –±–∞–π—Ç–∞–º Symbols
 101              	
 102              	#	–ù–∞—á–∞–ª–æ —Ü–∏–∫–ª–∞ 
 103              		
 104              	NextSym:	
 105 004c 8B550C   		movl 12(%ebp), %edx  # –∞–¥—Ä–µ—Å P2 - –º–∞—Å—Å–∏–≤–∞ –≤ %edx
 106              	
 107              	#    –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ Trans_Sym
 108              	
 109              	#	–ï–µ –ø–∞—Ä–∞–º–µ—Ç—Ä - –±–∞–π—Ç –ø–µ—Ä–µ–¥–∞–¥–∏–º —á–µ—Ä–µ–∑ %bl —Ä–µ–≥–∏—Å—Ç—Ä–∞ %ebx
 110              	
 111 004f 29DB     		subl %ebx, %ebx	# –≤—Å–µ –Ω—É–ª–∏ 
 112              	
 113              	#	- –ø–µ—Ä–µ–¥–∞–¥–∏–º –∫–æ–¥ —Å–∏–º–≤–æ–ª–∞ –≤ %bl 
 114              	#	%edx - –±–∞–∑–æ–≤—ã–π - –≤–∑—è–ª–∏ –∏–∑ P2,
 115              	#	%ecx - –∏–Ω–¥–µ–∫—Å–Ω—ã–π - –Ω–æ–º–µ—Ä —Ü–∏–∫–ª–∞, MM = 1 - –æ–¥–∏–Ω –±–∞–π—Ç
 116              	#	—Ä–µ–≥–∏—Å—Ç—Ä–æ–≤–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è
 117              	
 118 0051 8A1C0A   		movb (%edx,%ecx,1), %bl     
 119              	
 120              	#	–ü–∞—Ä–∞–º–µ—Ç—Ä Trans_Sym –≥–æ—Ç–æ–≤, –º–æ–∂–Ω–æ –µ–µ –≤—ã–∑—ã–≤–∞—Ç—å.
 121              	
 122              	.data # —Å–µ–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
 123              	
 124              	#	–¥–ª—è –ø–æ–∫–∞–∑–∞ –º–µ—Å—Ç –†–û–ù –≤ —Å—Ç–µ–∫–µ –ø–æ—Å–ª–µ pusha –≤ ReadSym
 125              	
 126 0026 61786631 	EAXf1:	.ascii "axf1"	# %eax
 127 002a 64696631 	EDIf1:	.ascii "dif1"	# %edi
 128              	
 129              	.text # —Å–µ–∫—Ü–∏—è –∫–æ–º–∞–Ω–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
 130              	
 131              	#	–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –†–û–ù f1 –ø–µ—Ä–µ–¥ pusha
 132              		
 133 0054 A1260000 		movl EAXf1,  %eax	# –ø–µ—Ä–≤—ã–π 
 133      00
 134 0059 8B3D2A00 		movl EDIf1,  %edi 	# –ø–æ—Å–ª–µ–¥–Ω–∏–π
 134      0000
 135 005f 8B351A00 		movl EBPm4,  %esi	# —Å–ª–µ–¥—É—é—â–∏–π –ø–æ—Å–ª–µ %ebp 
 135      0000
 136              					# !!! %ebp –ù–ï –¢–†–û–ì–ê–¢–¨ !!! 
 137              	
 138 0065 80FB39   		cmpb $'9', %bl 	 # –∫–æ–¥ –±–æ–ª—å—à–µ –∫–æ–¥–∞ —Å–∏–º–≤–æ–ª–∞ '9' ?
 139 0068 7719     		ja ret     # –î–ê - –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç -1
 140 006a 80FB30   		cmpb $'0', %bl	 # –∫–æ–¥ –º–µ–Ω—å—à–µ –∫–æ–¥–∞ —Å–∏–≤–æ–ª–∞ '0' ?
 141 006d 7214     		jb ret     # –î–ê - –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç -1
 142              		
 143 006f 60       		pusha		# —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –†–û–ù —Ç–µ–∫—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ Read_Sym	
 144              	
 145 0070 53       		pushl %ebx   	# –ü–∞—Ä–∞–º–µ—Ç—Ä Trans_Sym –≤ —Å—Ç–µ–∫
GAS LISTING func.S 			page 5


 146              		
 147 0071 E81D0000 		call Trans_Sym
 147      00
 148              	
 149 0076 83C404   		addl $4,%esp	# –æ—á–∏—Å—Ç–∏—Ç—å —Å—Ç–µ–∫ –æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Trans_Sym
 150              	
 151              	#	–û–ø—è—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç Read_Sym
 152              	
 153              	#	–í %eax 4 –±–∞–π—Ç–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç Trans_Sym 
 154              	
 155              	#	–ó–∞–ø–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ –º–∞—Å—Å–∏–≤ Numbers.	
 156              	
 157              	#	–ë–∞–∑–æ–≤—ã–π —Ä–µ–≥–∏—Å—Ç—Ä –ù–ï –ó–ê–î–ê–ù - –∑–∞–ø—è—Ç–∞—è –ø–æ—Å–ª–µ –ª–µ–≤. —Å–∫–æ–±–∫–∏
 158              	#	%ecx - –∏–Ω–¥–µ–∫—Å–Ω—ã–π —Ä–µ–≥–∏—Å—Ç—Ä, –º–∞—Å—à—Ç–∞—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å - 4
 159              	#	—Ç.–∫. —ç–ª–µ–º–µ–Ω—Ç—ã Numbers - 4-—Ö –±–∞–π—Ç–æ–≤—ã–µ —Å–ª–æ–≤–∞
 160              	#	—Ä–µ–≥–∏—Å—Ç—Ä–æ–≤–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è
 161              	
 162 0079 89048D00 		movl	%eax, Numbers(,%ecx,4)
 162      000000
 163              		
 164 0080 61       		popa   # –≤–æ—Å—Å—Ç–∞–Ω–æ–≤—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä—ã Read_Sym
 165              		
 166 0081 EB03     		jmp continue
 167              	
 168              	ret:
 169 0083 FF45FC   		incl -4(%ebp)
 170              	
 171              	continue:		
 172 0086 41       		incl %ecx	     # –Ω–∞—Ä–∞—â–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ —Ü–∏–∫–ª–∞
 173 0087 3B4D08   		cmpl 8(%ebp), %ecx   # —Å—á–µ—Ç—á–∏–∫ —Ü–∏–∫–ª–∞ —Ä–∞–≤–µ–Ω –ø–µ—Ä–≤–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä—É?
 174              		
 175 008a 75C0     		jne NextSym	     # –î–ê, –Ω–∞ –ø–æ–≤—Ç–æ—Ä
 176              				     # –ù–ï–¢ - –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞
 177              	
 178 008c 8B45FC   		movl -4(%ebp), %eax
 179              		
 180              	#	–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —ç–ø–∏–ª–æ–≥ —Ñ—É–Ω–∫—Ü–∏–∏
 181              	
 182 008f 89EC     		movl %ebp, %esp # –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å —Å—Ç–µ–∫–∞
 183 0091 5D       		popl %ebp       # –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ebp
 184 0092 C3       		ret		# –≤–æ–∑–≤—Ä–∞—Ç –≤ –≤—ã–∑—ã–≤–∞—é—â—É—é
 185              		
 186              	# –∫–æ–Ω–µ—Ü Read_Sym
 187              	
 188              	#    –§—É–Ω–∫—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ —Å–∏–º–≤–æ–ª–∞ –≤ —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞
 189              	#    c —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∫–æ–¥–æ–≤ —Ü–∏—Ñ—Ä. P1 - –±–∞–π—Ç –∫–æ–¥–∞. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
 190              	#    –∑–Ω–∞—á–µ–Ω–∏–µ —Ü–∏—Ñ—Ä—ã –∏–ª–∏ -1 –µ—Å–ª–∏ –∫–æ–¥ –Ω–µ —Å–∏–º–≤–æ–ª–∞ —Ü–∏—Ñ—Ä—ã.
 191              		
 192              	.type	Trans_Sym, @function
 193              	
 194              	Trans_Sym:
 195              	
 196              	#	–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–ª–æ–≥ —Ñ—É–Ω—Ü–∏–∏
 197              	
 198 0093 55       		pushl %ebp 	 # —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å—Ç–µ–∫–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –±—ã–≤—à–µ–µ –≤ –≤—ã–∑—ã–≤–∞—é—â
 199 0094 89E5     		movl  %esp, %ebp # –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∞–¥—Ä–µ—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –∏ 
 200              	#			   –ª–æ–∫–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤ —Å—Ç–µ–∫–µ –ø—É—Ç–µ–º –±–∞–∑–æ–≤–æ–π 
GAS LISTING func.S 			page 6


 201              	#			   –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ %ebp
 202              	
 203              	.data # —Å–µ–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
 204              	
 205              	LVAR2:
 206 002e 4C467232 		.ascii "LFr2" 	# –ø–æ–∫–∞–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ö–∞–¥—Ä–∞ 2
 207              	
 208              	.text # —Å–µ–∫—Ü–∏—è –∫–æ–º–∞–Ω–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
 209              	
 210 0096 83EC04   		subl  $4, %esp	 # –∑–∞–≤–µ—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω. –≤ –ö–∞–¥—Ä–µ 1
 211 0099 A12E0000 	        movl  LVAR2,%eax
 211      00
 212 009e 8945FC   	        movl  %eax,-4(%ebp)
 213              	
 214              	#	—Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏
 215              	
 216 00a1 8B4508   		movl 8(%ebp), %eax  # –ø–µ—Ä–≤—ã–π  –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ eax
 217              		
 218              	#	–§–∏–ª—å—Ç—Ä –∫–æ–¥–∞ —Å–∏–º–≤–æ–ª–∞ —Ü–∏—Ñ—Ä—ã	
 219              		
 220 00a4 3C39     		cmpb $'9', %al 	 # –∫–æ–¥ –±–æ–ª—å—à–µ –∫–æ–¥–∞ —Å–∏–º–≤–æ–ª–∞ '9' ?
 221 00a6 7709     		ja Ret_error     # –î–ê - –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç -1
 222 00a8 3C30     		cmpb $'0', %al	 # –∫–æ–¥ –º–µ–Ω—å—à–µ –∫–æ–¥–∞ —Å–∏–≤–æ–ª–∞ '0' ?
 223 00aa 7205     		jb Ret_error     # –î–ê - –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç -1
 224              		
 225 00ac 83E830   		subl $0x30, %eax # –ø–æ–ª—É—á–µ–Ω–∏–µ —á–∏—Å–ª–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
 226              		
 227 00af EB05     		jmp Ret_norm 	 # –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç —á–∏—Å–ª. –∑–Ω–∞—á–µ–Ω–∏—è —Ü–∏—Ñ—Ä—ã
 228              	
 229              	Ret_error:
 230              	
 231 00b1 B8FFFFFF 		movl $-1,%eax	 # –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –µ—Å–ª–∏ –∫–æ–¥ –Ω–µ —Å–∏–º–≤–æ–ª —Ü–∏—Ñ—Ä—ã
 231      FF
 232              	
 233              	Ret_norm:
 234              	
 235              	#	–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —ç–ø–∏–ª–æ–≥ —Ñ—É–Ω–∫—Ü–∏–∏
 236              	
 237 00b6 89EC     		movl %ebp, %esp # –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å —Å—Ç–µ–∫–∞
 238 00b8 5D       		popl %ebp       # –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ebp
 239 00b9 C3       		ret		# –≤–æ–∑–≤—Ä–∞—Ç –≤ –≤—ã–∑—ã–≤–∞—é—â—É—é
 240              	
 241              	#	–ö–æ–Ω–µ—Ü  Trans_Sym
 242              	
 243              		.end   # –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞	
GAS LISTING func.S 			page 7


DEFINED SYMBOLS
              func.S:13     .data:0000000000000000 Symbols
              func.S:20     .data:000000000000000e Ini
              func.S:21     .data:0000000000000012 EAXF
              func.S:22     .data:0000000000000016 EDIF
              func.S:23     .data:000000000000001a EBPm4
              func.S:25     .data:000000000000001e n
              func.S:29     .bss:0000000000000000 Numbers
              func.S:35     .text:0000000000000000 _start
              func.S:79     .text:000000000000003c Read_Sym
              func.S:90     .data:0000000000000022 LVAR1
              func.S:104    .text:000000000000004c NextSym
              func.S:126    .data:0000000000000026 EAXf1
              func.S:127    .data:000000000000002a EDIf1
              func.S:168    .text:0000000000000083 ret
              func.S:194    .text:0000000000000093 Trans_Sym
              func.S:171    .text:0000000000000086 continue
              func.S:205    .data:000000000000002e LVAR2
              func.S:229    .text:00000000000000b1 Ret_error
              func.S:233    .text:00000000000000b6 Ret_norm

NO UNDEFINED SYMBOLS
